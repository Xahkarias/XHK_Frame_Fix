
## XHK NOTE: Changed these to use the right tech.

# expand with planetary mass

giga_frameworld_expand_mass = {
    icon = decision_frameworld_expand_mass
    owned_planets_only = yes

    enactment_time = 360

    resources = {
        category = decisions
        cost = {
            giga_sr_bulk_matter = 2
        }
    }

    potential = {
        exists = owner
        owner = {
            giga_has_frameworld_origin = yes
            has_technology = giga_tech_ring_world_swap_no_habitables
        }
        giga_is_frame_world = yes
    }

    allow = {
        exists = owner
        owner = {
            is_ai = no # here for now because the AI never disassembles planets anyway
        }
    }

    effect = {
        giga_frameworld_expand_deposit = {
            DEPOSIT = d_frameworld_expansion
            VAR = giga_frameworld_expansions
        }
        custom_tooltip = frameworld_line
        giga_frameworld_expand_deposit = {
            DEPOSIT = d_frameworld_planet
            VAR = giga_frameworld_planets
        }
        custom_tooltip = frameworld_line
        change_planet_size = 1

        hidden_effect = {
            giga_frameworld_update_entity_with_fallback = yes
            giga_frameworld_recalculate_variables = yes
            frameworld_conduct_audit_check_ai = yes
        }
    }

    ai_weight = {
        weight = 0
    }
}

# bulk expand x5 with planetary mass

giga_frameworld_expand_mass_bulk_5 = {
    icon = decision_frameworld_expand_mass_5
    owned_planets_only = yes

    enactment_time = 1728 # 1800 -> 360 * 4.8 to account for speed ups from expanding

    resources = {
        category = decisions
        cost = {
            giga_sr_bulk_matter = 10
        }
    }

    potential = {
        exists = owner
        owner = {
            giga_has_frameworld_origin = yes
            has_technology = giga_tech_ring_world_swap_no_habitables
            has_technology = giga_tech_ringworld_behemoth
        }
        giga_is_frame_world = yes
    }

    allow = {
        exists = owner
        owner = {
            is_ai = no # here for now because the AI never disassembles planets anyway
        }
    }

    effect = {
        giga_frameworld_expand_deposit = {
            DEPOSIT = d_frameworld_expansion
            VAR = giga_frameworld_expansions
            COUNT = 5
        }
        custom_tooltip = frameworld_line
        giga_frameworld_expand_deposit = {
            DEPOSIT = d_frameworld_planet
            VAR = giga_frameworld_planets
            COUNT = 5
        }
        custom_tooltip = frameworld_line
        change_planet_size = 5

        hidden_effect = {
            giga_frameworld_update_entity_with_fallback = yes
            giga_frameworld_recalculate_variables = yes
            frameworld_conduct_audit_check_ai = yes
        }
    }

    ai_weight = {
        weight = 0
    }
}

# bulk expand x10 with planetary mass

giga_frameworld_expand_mass_bulk_10 = {
    icon = decision_frameworld_expand_mass_10
    owned_planets_only = yes

    enactment_time = 3312 # 3600 -> 360 * 9.2 to account for speed ups from expanding

    resources = {
        category = decisions
        cost = {
            giga_sr_bulk_matter = 20
        }
    }

    potential = {
        exists = owner
        owner = {
            giga_has_frameworld_origin = yes
            has_technology = giga_tech_ring_world_swap_no_habitables
            has_technology = giga_tech_ringworld_behemoth
        }
        giga_is_frame_world = yes
    }

    allow = {
        exists = owner
        owner = {
            is_ai = no # here for now because the AI never disassembles planets anyway
        }
    }

    effect = {
        giga_frameworld_expand_deposit = {
            DEPOSIT = d_frameworld_expansion
            VAR = giga_frameworld_expansions
            COUNT = 10
        }
        custom_tooltip = frameworld_line
        giga_frameworld_expand_deposit = {
            DEPOSIT = d_frameworld_planet
            VAR = giga_frameworld_planets
            COUNT = 10
        }
        custom_tooltip = frameworld_line
        change_planet_size = 10

        hidden_effect = {
            giga_frameworld_update_entity_with_fallback = yes
            giga_frameworld_recalculate_variables = yes
            frameworld_conduct_audit_check_ai = yes
        }
    }

    ai_weight = {
        weight = 0
    }
}